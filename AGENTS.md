# AGENTS — корневая инструкция

Эта памятка для ИИ-агентов и ревьюеров. Соблюдай её для всех файлов в репозитории, пока нет более узких AGENTS в поддиректориях.

## Как работать с проектом

- Проект — Laravel 11 (PHP 8.3) с Vite/Tailwind фронтендом, запускается через Docker Compose и `make`. Основа находится в `src/`.
- Перед командами ищи более глубокие `AGENTS.md` (например, в `src/`) и следуй им.
- Для подготовки окружения используй `make setup`. Режим разработки: `make up-dev`, остановка — `make down`, состояние — `make ps`.
- Все команды к Composer/NPM желательно гонять через `make` (`make composer cmd="install"`, `make npm cmd="run build"`) или из контейнера `php-fpm`, чтобы совпадали PHP/Node версии.
- Не коммить артефакты окружения и сборки (`vendor/`, `node_modules/`, `storage/`, `public/build`, `.env*`, дампы БД и т.п.).

## Проверки и качество

- Базовые тесты: `make test` (phpunit внутри контейнера).
- Форматирование PHP — `docker-compose exec ./vendor/bin/pint`; держись PSR-12/Laravel-стиля.
- Frontend сборка — `docker-compose exec npm run build`; Vite кладёт билды в `public/build`.
- Если добавляешь env-переменные или новые сервисы, синхронизируй примеры (`src/.env.example`, `src/.env.testing.example`) и документацию по запуску.

## Документация и коммуникация

- Текстовую документацию оставляй на русском, чтобы быть консистентным с README и Makefile.
- Описывай новые команды/скрипты в README или профильных файлах, если они важны для сопровождения.
- При работе с Docker-конфигами дублируй нестандартные шаги в `docker/` или `scripts/` README, чтобы следующий запуск не требовал догадок.
